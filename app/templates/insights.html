{% extends "base.html" %}

{% block title %}Insights Wall - ConfAI{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/insights.css') }}">
{% endblock %}

{% block content %}
<div class="insights-header">
    <h1>Insights Wall</h1>
    <p>Share and vote on the best AI-generated insights from our community</p>
</div>

<div class="header-controls">
    <a href="/chat" class="nav-link">
        <span>‚Üê</span>
        <span>Back to Chat</span>
    </a>
    <div class="filter-buttons">
        <button id="filter-all" class="filter-btn active" onclick="filterInsights('all')">
            All Insights
        </button>
        <button id="filter-votes" class="filter-btn" onclick="filterInsights('votes')">
            <span>My Votes</span>
            <span id="votes-count" class="count">0/3</span>
        </button>
        <button id="filter-shares" class="filter-btn" onclick="filterInsights('shares')">
            <span>My Shares</span>
            <span id="shares-count" class="count">0/3</span>
        </button>
    </div>
</div>

<div class="sort-controls">
    <label>Sort by:</label>
    <div class="sort-buttons">
        <button id="sort-time" class="sort-btn active" onclick="sortInsights('time')">
            Time
        </button>
        <button id="sort-votes" class="sort-btn" onclick="sortInsights('votes')" style="display: none;">
            Votes
        </button>
    </div>
</div>

<div class="insights-container">
    <div id="loading" class="loading">
        <div class="loading-spinner"></div>
        <p>Loading insights...</p>
    </div>

    <div id="empty-state" class="empty-state" style="display: none;">
        <h2>No insights yet</h2>
        <p>Be the first to share an insight from your chat conversations!</p>
        <a href="/chat" class="cta-btn">Go to Chat</a>
    </div>

    <div id="insights-grid" class="insights-grid" style="display: none;"></div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/insights.js') }}"></script>
{% endblock %}
